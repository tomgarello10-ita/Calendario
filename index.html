<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="default"/>
<meta name="apple-mobile-web-app-title" content="Calendario"/>
<title>Calendario</title>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<style>
body{
  margin:0;
  background:#f2f2f7;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",sans-serif;
  overflow:hidden;
}

.app{
  height:100vh;
  display:flex;
  flex-direction:column;
}

.header{
  padding-top:env(safe-area-inset-top);
  background:white;
  text-align:center;
  font-weight:600;
  font-size:20px;
  padding-bottom:10px;
  border-bottom:1px solid #e5e5ea;
}

.month-nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 20px 10px 20px;
}

.nav-btn{
  font-size:26px;
  background:none;
  border:none;
  color:#007aff;
}

.weekdays{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  text-align:center;
  font-size:14px;
  color:#8e8e93;
  padding:5px 0;
}

.calendar{
  flex:1;
  display:grid;
  grid-template-rows:repeat(6,1fr);
}

.week{
  display:grid;
  grid-template-columns:repeat(7,1fr);
}

.day{
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  position:relative;
}

.day.selected{
  background:#ff3b30;
  color:white;
  border-radius:50%;
  width:40px;
  height:40px;
  margin:auto;
}

.categories{
  background:white;
  padding:15px;
  border-radius:20px 20px 0 0;
}

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.4);
  display:flex;
  align-items:flex-end;
}

.sheet{
  background:white;
  width:100%;
  border-radius:25px 25px 0 0;
  padding:20px;
  max-height:85vh;
  overflow:auto;
}

.grid3{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:15px;
}

.box{
  background:#f2f2f7;
  border-radius:15px;
  text-align:center;
  padding:15px 5px;
  font-size:16px;
}
.back{
  color:#007aff;
  margin-bottom:15px;
}
</style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">

const {useState}=React;

const MONTHS=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];
const DAYS=["L","M","M","G","V","S","D"];

function getCalendar(year,month){
  const first=new Date(year,month,1).getDay();
  const total=new Date(year,month+1,0).getDate();
  let days=[];
  for(let i=0;i<first;i++) days.push(null);
  for(let i=1;i<=total;i++) days.push(i);
  while(days.length<42) days.push(null);
  return days;
}function App(){

const today=new Date();
const [year,setYear]=useState(today.getFullYear());
const [month,setMonth]=useState(today.getMonth());
const [selected,setSelected]=useState(today.getDate());

const [show,setShow]=useState(false);
const [step,setStep]=useState("main");

const calendar=getCalendar(year,month);

function changeMonth(dir){
  let m=month+dir;
  let y=year;
  if(m<0){m=11;y--}
  if(m>11){m=0;y++}
  setMonth(m);
  setYear(y);
}

return(
<div className="app">

<div className="header">
  <div className="month-nav">
    <button className="nav-btn" onClick={()=>changeMonth(-1)}>â€¹</button>
    <div>{MONTHS[month]} {year}</div>
    <button className="nav-btn" onClick={()=>changeMonth(1)}>â€º</button>
  </div>
</div>

<div className="weekdays">
  {DAYS.map(d=><div key={d}>{d}</div>)}
</div>

<div className="calendar">
{
[0,1,2,3,4,5].map(w=>(
<div key={w} className="week">
{
calendar.slice(w*7,w*7+7).map((d,i)=>(
<div key={i} className="day" onClick={()=>d && setSelected(d)}>
{d && (
<div className={d===selected?"selected":""}>
{d}
</div>
)}
</div>
))
}
</div>
))
}
</div>

{show && (
<div className="modal" onClick={()=>setShow(false)}>
<div className="sheet" onClick={e=>e.stopPropagation()}>

{step==="main" && (
<>
<div className="box" onClick={()=>setStep("verifica")}>ğŸ“˜ Verifica</div>
<div className="box">ğŸ‚ Compleanno</div>
<div className="box">ğŸ›’ Commissione</div>
<div className="box">ğŸ¥ Appuntamento</div>
<div className="box">âœ… Da fare</div>
</>
)}

{step==="verifica" && (
<>
<div className="back" onClick={()=>setStep("main")}>â€¹ Indietro</div>
<div className="grid3">

<div className="box">ğŸ“ Matematica</div>
<div className="box">ğŸ“– Italiano</div>
<div className="box">ğŸ› Storia</div>

<div className="box">ğŸ”¬ Scienze</div>
<div className="box">ğŸ‡¬ğŸ‡§ Inglese</div>
<div className="box">âš¡ Fisica</div>

<div className="box">ğŸ§ª Chimica</div>
<div className="box">ğŸŒ Geografia</div>
<div className="box">ğŸ¨ Arte</div>

<div className="box">ğŸµ Musica</div>
<div className="box">ğŸ¤” Filosofia</div>
<div className="box">ğŸ’» Informatica</div>

<div className="box">âš½ Ed. Fisica</div>
<div className="box">ğŸ“œ Latino</div>
<div className="box">ğŸ“š Altra</div>

</div>
</>
)}

</div>
</div>
)}

<div style={{
position:"fixed",
bottom:"30px",
right:"25px",
background:"#007aff",
width:"60px",
height:"60px",
borderRadius:"50%",
display:"flex",
alignItems:"center",
justifyContent:"center",
color:"white",
fontSize:"30px"
}}
onClick={()=>setShow(true)}
>
+
</div>

</div>
);
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
